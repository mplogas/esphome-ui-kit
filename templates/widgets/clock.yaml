# This is a reusable clock widget snippet
# Expected substitutions: 
# - widget_id: unique id for the clock
# - font_id: font id for the time
# - color_text: color for the text (default from theme)

obj:
  id: ${widget_id}
  width: 100%
  height: 100%
  styles: style_card
  grid_cell_column_pos: ${grid_col_pos}
  grid_cell_row_pos: ${grid_row_pos}
  grid_cell_x_align: ${grid_x_align}
  grid_cell_y_align: ${grid_y_align}
  clickable: ${widget_clickable}
  on_click:
    then:
      - script.execute:
          id: click_feedback
          obj_id: !lambda "return id(${widget_id});"
      - if:
          condition:
            lambda: "return true;"
          then:
            ${widget_on_click}
  widgets:
    - label:
        id: clock_label
        text: "00:00" 
        align: CENTER
        y: -10
        text_font: ${font_id}
        text_color: ${color_text}
    - label:
        id: clock_date_label
        text: "---, --- 00"
        align: CENTER
        y: 20
        text_font: ${font_id_small}
        text_color: ${color_text_dim}
