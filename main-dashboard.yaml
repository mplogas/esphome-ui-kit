packages:
  hardware: !include hardware/sensecap-indicator.yaml
  layout: !include layouts/4-tabs/package.yaml

substitutions:
  # 1. Load theme defaults
  <<: !include theme/defaults.yaml

  name: sci-template
  friendly_name: SenseCAP Indicator Template

  # 2. Dashboard Configuration
  home_tab_name: "Home"
  weather_entity: weather.forecast_home
  rain_sensor_entity: binary_sensor.rain_sensor

  lights_tab_name: "Lights"
  light_1_name: "Light 1"
  light_1_icon: "\U000F0335" # mdi:lightbulb
  light_1_entity: light.example_light_1
  light_2_name: "Light 2"
  light_2_icon: "\U000F0335" # mdi:lightbulb
  light_2_entity: light.example_light_2
  light_3_name: "Light 3"
  light_3_icon: "\U000F0335" # mdi:lightbulb
  light_3_entity: light.example_light_3
  light_4_name: "Light 4"
  light_4_icon: "\U000F0335" # mdi:lightbulb
  light_4_entity: light.example_light_4

  scenes_tab_name: "Scenes"
  scene_1_name: "Scene 1"
  scene_1_icon: "\U000F0502" # mdi:television
  scene_1_entity: scene.example_scene_1
  scene_2_name: "Scene 2"
  scene_2_icon: "\U000F05F2" # mdi:food-fork-drink
  scene_2_entity: scene.example_scene_2
  scene_3_name: "Scene 3"
  scene_3_icon: "\U000F0099" # mdi:bed-outline
  scene_3_entity: scene.example_scene_3
  scene_4_name: "Scene 4"
  scene_4_icon: "\U000F0904" # mdi:power-sleep
  scene_4_entity: scene.example_scene_4

  sensor_tab_name: "Sensors"
  graph_1_entity: sensor.example_power
  graph_1_title: "Power"
  graph_1_unit: "W"
  graph_1_color: ${color_primary}
  graph_2_entity: sensor.example_temp
  graph_2_title: "Temperature"
  graph_2_unit: "°C"
  graph_2_color: ${color_secondary}

  media_player_entity: media_player.example_player
  motion_sensor_entity: binary_sensor.example_motion

  # Sensor Group 1
  sg1_s1_name: "Temp"
  sg1_s1_entity: "sensor.example_temp"
  sg1_s1_unit: "°C"
  sg1_s1_color: "${color_primary}"
  sg1_s2_name: "Humidity"
  sg1_s2_entity: "sensor.example_humidity"
  sg1_s2_unit: "%"  
  sg1_s2_color: "${color_primary}"
  sg1_s3_name: "Presence"
  sg1_s3_entity: "binary_sensor.example_motion"
  sg1_s3_unit: ""
  sg1_s3_color: "${color_primary}"
  sg1_s3_map_on: "detected"
  sg1_s3_map_off: "clear"

  # Sensor Group 2
  sg2_s1_name: "PM2.5"
  sg2_s1_entity: "sensor.example_pm25"
  sg2_s1_unit: "μg/m³"
  sg2_s1_color: "${color_primary}"
  sg2_s2_name: "CO2"
  sg2_s2_entity: "sensor.example_co2"
  sg2_s2_unit: "ppm"
  sg2_s2_color: "${color_primary}"
  sg2_s3_name: "VOC"
  sg2_s3_entity: "sensor.example_voc"
  sg2_s3_unit: "ppb"
  sg2_s3_color: "${color_primary}"

# 3. map light favorite colors per light (defaults to templates/core/mapping-defaults.yaml)


esphome:
  on_boot:
    priority: -100
    then:
      - lvgl.page.show: main_page
      - script.execute:
          id: init_graph
          container_obj: !lambda "return id(graph_1_chart_container);"
          color: 0xEF8513
      - script.execute:
          id: init_graph
          container_obj: !lambda "return id(graph_2_chart_container);"
          color: 0x3498db
      - lvgl.resume: {}

logger:
  hardware_uart: UART0
  level: DEBUG

api:
  encryption:
    key: !secret api_key
  on_client_connected:
    - delay: 1s
    - script.execute: sync_entities # this is needed th get the initial state of the lights  

ota:
  - platform: esphome
    password: !secret ota_password

wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password
  min_auth_mode: WPA2
  use_address: !secret wifi_ip_address

time:
  - platform: homeassistant
    id: home_time
    timezone: "Europe/Berlin"

# Note: LVGL configuration is now included in layouts/4-tabs/package.yaml
